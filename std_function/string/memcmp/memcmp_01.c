/*
memcmp 是 C 语言标准库 <string.h> (在 C++ 中是 <cstring>) 中定义的一个函数，它的核心功能是比较两块内存区域的内容。

与 strcmp 只能比较字符串不同，memcmp 可以比较任何类型的内存块，包括结构体、数组、或者原始的二进制数据。

函数原型
int memcmp(const void *ptr1, const void *ptr2, size_t num);

参数说明
const void *ptr1: 指向第一块要比较的内存区域的指针。

const void *ptr2: 指向第二块要比较的内存区域的指针。

size_t num: 指定要比较的字节数。size_t 是一种无符号整数类型。

返回值
memcmp 的返回值是一个整数，表示两块内存区域的比较结果：

小于 0 (< 0): 如果 ptr1 指向的内存区域中第一个不匹配的字节值 小于 ptr2 中对应的字节值。

等于 0 (= 0): 如果两块内存区域的前 num 个字节 完全相同。

大于 0 (> 0): 如果 ptr1 指向的内存区域中第一个不匹配的字节值 大于 ptr2 中对应的字节值。

重要提示：比较是逐字节进行的，并且这些字节被当作 unsigned char 类型来解释。

工作原理
memcmp 从 ptr1 和 ptr2 指向的地址开始，逐个字节地进行比较，最多比较 num 个字节。

如果所有 num 个字节都相同，函数返回 0。

一旦遇到第一个不相同的字节，函数会立即停止比较，并根据这两个字节的大小关系返回一个负数或正数，然后函数就结束了。
*/

//代码示例

#include <stdio.h>
#include <string.h>

int main() {
    char str1[] = "Hello"; // 内存内容: 'H', 'e', 'l', 'l', 'o', '\0'
    char str2[] = "Hello"; // 内存内容: 'H', 'e', 'l', 'l', 'o', '\0'
    char str3[] = "HellO"; // 内存内容: 'H', 'e', 'l', 'l', 'O', '\0' (注意大写O)

    // 示例 1: 比较两个完全相同的内存区域
    // 比较前 5 个字节 "Hello"
    int result1 = memcmp(str1, str2, 5);
    if (result1 == 0) {
        printf("str1 和 str2 的前 5 个字节相同。\n");
    }

    // 示例 2: 比较两个不相同的内存区域
    // 比较 str1 和 str3 的前 5 个字节
    // 在第 5 个字节处不同 ('o' vs 'O')
    // 'o' 的 ASCII 码是 111, 'O' 的 ASCII 码是 79
    int result2 = memcmp(str1, str3, 5);
    if (result2 > 0) {
        printf("str1 在第一个不同点处大于 str3 (因为 'o' > 'O')。\n");
        printf("返回值: %d\n", result2);
    }

    // 示例 3: 比较整数数组
    int arr1[] = {1, 2, 3, 4};
    int arr2[] = {1, 2, 5, 4}; // 第三个元素不同

    // 比较整个数组的大小，即 sizeof(arr1) 个字节
    int result3 = memcmp(arr1, arr2, sizeof(arr1));
    if (result3 < 0) {
        printf("arr1 在第一个不同点处小于 arr2。\n");
        printf("返回值: %d\n", result3);
    }

    return 0;
}

/*
预期输出:

str1 和 str2 的前 5 个字节相同。
str1 在第一个不同点处大于 str3 (因为 'o' > 'O')。
返回值: 32
arr1 在第一个不同点处小于 arr2。
返回值: -2

(注意：返回值的具体正负数值可能因编译器和平台而异，但其符号（正、负、零）的意义是确定的。)
*/

/*
memcmp 与 strcmp 的关键区别
这是初学者经常混淆的地方，理解它们的区别非常重要。
----------------------------------------------------------------------------------------------------------------
特性	       memcmp	                                                  strcmp
----------------------------------------------------------------------------------------------------------------
比较对象	   任何内存块（数组、结构体、二进制数据等）	                     C风格字符串
停止条件	   比较完指定的 num 个字节	                                   遇到字符串的结束符 \0
数据安全性	   可以安全地比较任何数据，包括中间含有 \0 的二进制数据	          遇到 \0 就会停止，不适合用来比较二进制数据
参数	       必须提供要比较的字节数 num	                               无需提供长度，它会自动寻找 \0
----------------------------------------------------------------------------------------------------------------


char data1[] = {'A', '\0', 'B'};
char data2[] = {'A', '\0', 'C'};

// 使用 strcmp，它在第一个 '\0' 处就停止了
int cmp_result = strcmp(data1, data2); // 返回 0 (相等), 因为它们在 '\0' 前都只有一个 'A'

// 使用 memcmp，它会比较完整的 3 个字节
int mem_result = memcmp(data1, data2, 3); // 返回一个负数, 因为 'B' < 'C'
*/